{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?54b6","webpack:///./src/components/Map.vue","webpack:///./src/components/Map.vue?ac7d","webpack:///./src/components/InfoBox.vue","webpack:///./src/components/InfoBox.vue?56a6","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","_createElementBlock","_createVNode","_component_Map","ref","_component_Header","_component_InfoBox","class","_createElementVNode","src","role","_hoisted_2","type","$data","onClick","$options","_hoisted_4","currentLanguage","methods","setLanguage","lang","this","console","log","$root","$refs","__exports__","_hoisted_3","projection","Projection","code","extent","units","addProjection","styleCache","colors","primary","primaryOpacity","perimeterVs","VectorSource","generalRouteVs","routeVs","poiVs","poiClusterSource","Cluster","distance","minDistance","source","props","map","active","zoom","q","showResults","results","inputName","selected","language","initialItem","initialItemSelected","layers","defaultOpacity","hideLayer","layer","setOpacity","showLayer","selectFeature","e","obj","view","getView","forEachFeatureAtPixel","pixel","feature","deselectFeature","properties","getProperties","features","clusterFeatures","coor","getGeometry","getCoordinates","getZoom","setCenter","setZoom","poiFeature","poiProperties","fetchFeatureInfo","set","hitTolerance","$parent","infoBox","close","onPointerMove","getEventPixel","originalEvent","hit","hasFeatureAtPixel","layerFilter","getTarget","style","cursor","onMoveend","size","getSize","bbox","calculateExtent","fetchPerimeters","newZoom","width","height","url","axios","then","clear","addFeatures","GeoJSON","readFeatures","fetchPois","getFrontend","selectInitialItem","fetchRoutes","container","document","getElementById","getAttribute","path","setInfo","vs","getFeatures","ii","selectedHeritage","fit","padding","setInitalItem","attr","split","mounted","Map","target","ortho","TileLayer","opacity","TileWMS","params","serverType","topo","perimeter","VectorLayer","minZoom","Style","fill","Fill","color","hiking","route","routeStyle","generalRoute","transport","poi","image","Icon","anchor","anchorXUnits","anchorYUnits","marker","radius","Circle","stroke","Stroke","text","Text","toString","font","View","center","transform","maxZoom","enableRotation","on","WGStoCHy","lat","lng","DECtoSEX","DEGtoSEC","lat_aux","lng_aux","y","Math","pow","WGStoCHx","x","CHtoWGSlat","y_aux","x_aux","CHtoWGSlng","angle","deg","parseInt","min","sec","parts","String","Number","addCoordinateTransforms","coordinate","title","translations","info","img","alt","innerHTML","description","components","slug","label","images","learnMore","open","setTranslations","el","JSON","parse","textContent","Header","InfoBox","render","defaults","baseURL","process","createApp","App","mount"],"mappings":"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","file":"js/app.43ae891f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n\t<div id=\"app\">\n\t\t<Map ref=\"map\"/>\n\t\t<Header ref=\"header\"/>\n\t\t<InfoBox ref=\"infoBox\"/>\n\t</div>\n</template>\n\n<script>\nimport Header from './components/Header.vue'\nimport Map from './components/Map.vue'\nimport InfoBox from './components/InfoBox.vue'\n\nexport default {\n\tname: 'map',\n\tcomponents: {\n\t\tHeader,\n\t\tMap,\n\t\tInfoBox\n\t}\n}\n</script>\n","<template>\n\t<div class=\"header\">\n\t\t<img src=\"/img/layout/eut-logo.svg\" class=\"eut-logo\">\n\t\t<div class=\"btn-group btn-group-lg\" role=\"group\">\n\t\t\t<button type=\"button\" class=\"btn \" v-bind:class=\"currentLanguage == 'de' ? 'btn-secondary' : 'btn-primary'\" @click=\"setLanguage('de')\">DE</button>\n\t\t\t<button type=\"button\" class=\"btn\" v-bind:class=\"currentLanguage == 'en' ? 'btn-secondary' : 'btn-primary'\" @click=\"setLanguage('en')\">EN</button>\n\t\t</div>\n\t\t<img src=\"/img/layout/saja-logo.svg\" class=\"saja-logo\">\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentLanguage: 'de'\n\t\t}\n\t},\n\tmethods: {\n\t\tsetLanguage: function (lang) {\n\t\t\tthis.currentLanguage = lang\n\t\t\tconsole.log(this.$root.$refs['map'].setLanguage(lang))\n\t\t}\n\t}\n}\n</script>\n","import { render } from \"./Header.vue?vue&type=template&id=6341c639\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div class=\"map-container\">\n\t\t<div ref=\"map\" class=\"map\"></div>\n\t\t<div class=\"credits small\">&copy;swisstopo</div>\n\t\t<div id=\"location-marker\"></div>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport Projection from 'ol/proj/Projection';\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\nimport TileWMS from 'ol/source/TileWMS';\nimport View from 'ol/View';\nimport {addCoordinateTransforms, addProjection, transform} from 'ol/proj';\nimport {Icon, Circle, Text, Style, Stroke, Fill} from 'ol/style';\nimport {Cluster, Vector as VectorSource} from 'ol/source';\nimport GeoJSON from 'ol/format/GeoJSON';\n\nconst projection = new Projection({\n\tcode: 'EPSG:21781',\n\textent: [485869.5728, 76443.1884, 837076.5648, 299941.7864],\n\tunits: 'm',\n})\naddProjection(projection)\n\nconst styleCache = {};\nconst colors = {\n\tprimary: '#968C1B',\n\tprimaryOpacity: 'rgba(150,140,27,0.7)'\n}\n\nconst perimeterVs = new VectorSource()\nconst generalRouteVs = new VectorSource()\nconst routeVs = new VectorSource()\nconst poiVs = new VectorSource()\nconst poiClusterSource = new Cluster({\n\tdistance: 24,\n\tminDistance: 10,\n\tsource: poiVs,\n});\n\nexport default {\n\tprops: {},\n\tdata: () => ({\n\t\tmap: false,\n\t\tactive: 'topo',\n\t\tzoom: 4.5,\n\t\tq: null,\n\t\tshowResults: false,\n\t\tresults: null,\n\t\tinputName: null,\n\t\tselected: null,\n\t\tlanguage: 'de',\n\t\tinitialItem: {\n\t\t\t'type': null,\n\t\t\t'id': null\n\t\t},\n\t\tinitialItemSelected: false,\n\t\tlayers: {\n\t\t\t'topo': null,\n\t\t\t'ortho': null,\n\t\t\t'hiking': null,\n\t\t\t'transport': null,\n\t\t\t'poi': null,\n\t\t\t'route': null,\n\t\t\t'perimeter': null,\n\t\t},\n\t\tdefaultOpacity: {\n\t\t\t'topo': 1,\n\t\t\t'ortho': 1,\n\t\t\t'hiking': 0.5,\n\t\t\t'transport': 1,\n\t\t\t'poi': 1,\n\t\t\t'route': 1,\n\t\t\t'perimeter': 0.3\n\t\t}\n\t}),\n\tmethods: {\n\t\tsetLanguage(lang) {\n\t\t\tthis.language = lang\n\t\t},\n\t\thideLayer(layer) {\n\t\t\tthis.layers[layer].setOpacity(0)\n\t\t\tif (layer == 'route') {\n\t\t\t\tthis.layers['generalRoute'].setOpacity(0)\n\t\t\t}\n\t\t},\n\t\tshowLayer(layer) {\n\t\t\tthis.layers[layer].setOpacity(this.defaultOpacity[layer])\n\t\t\tif (layer == 'route') {\n\t\t\t\tthis.layers['generalRoute'].setOpacity(this.defaultOpacity[layer])\n\t\t\t}\n\t\t},\n\t\tselectFeature(e) {\n\t\t\tlet obj = this\n\t\t\tlet map = this.map\n\t\t\tlet view = map.getView()\n\t\t\t\n\t\t\tmap.forEachFeatureAtPixel(e.pixel, function(feature) {\n\t\t\t\tobj.deselectFeature()\n\t\t\t\tlet properties = feature.getProperties()\n\t\t\t\t\n\t\t\t\t// if cluster\n\t\t\t\tif (properties.features) {\n\t\t\t\t\tlet clusterFeatures = properties.features\n\t\t\t\t\tif (clusterFeatures.length > 1) {\n\t\t\t\t\t\tlet coor = feature.getGeometry().getCoordinates()\n\t\t\t\t\t\tlet zoom = view.getZoom()\n\t\t\t\t\t\tview.setCenter(coor)\n\t\t\t\t\t\tview.setZoom(zoom+1)\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet poiFeature = clusterFeatures[0]\n\t\t\t\t\t\tlet poiProperties = poiFeature.getProperties()\n\t\t\t\t\t\tobj.selected = poiFeature\n\t\t\t\t\t\tobj.fetchFeatureInfo(poiProperties)\n\t\t\t\t\t\tpoiFeature.set('highlighted', true)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj.selected = feature\n\t\t\t\t\tobj.fetchFeatureInfo(properties)\n\t\t\t\t\t\n\t\t\t\t\tif (properties.type == 'route') {\n\t\t\t\t\t\tfeature.set('highlighted', true)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t}, {hitTolerance: 6})\n\t\t},\n\t\tdeselectFeature() {\n\t\t\tif (this.selected !== null) {\n\t\t\t\tthis.selected.set('highlighted', false)\n\t\t\t\tthis.selected = null;\n\t\t\t\tthis.$parent.$refs.infoBox.close()\n\t\t\t}\n\t\t},\n\t\tonPointerMove(e) {\n\t\t\t// change mouse cursor when over marker\n\t\t\tlet pixel = this.map.getEventPixel(e.originalEvent)\n\t\t\t//let hit = this.map.hasFeatureAtPixel(pixel)\n\t\t\tlet hit = this.map.hasFeatureAtPixel(pixel, {\n\t\t\t\tlayerFilter: function (layer) {\n\t\t\t\t\treturn layer.get('id') !== 'perimeter-layer';\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.map.getTarget().style.cursor = hit ? 'pointer' : ''\n\t\t},\n\t\tonMoveend() {\n\t\t\tlet view = this.map.getView()\n\t\t\tlet size = this.map.getSize();\n\t\t\tlet bbox = view.calculateExtent(size)\n\t\t\tthis.fetchPerimeters(bbox, size[0], size[1])\n\t\t\t\n\t\t\tlet newZoom = view.getZoom()\n\t\t\tif (this.zoom != newZoom) {\n\t\t\t\tthis.zoom = newZoom\n\t\t\t}\n\t\t},\n\t\t/*\n\t\tsearchOnInput() {\n\t\t\tthis.results = null\n\t\t\tthis.showResults = false\n\t\t\tif (this.q.length > 2) {\n\t\t\t\tthis.searchLocation()\n\t\t\t}\n\t\t},\n\t\tsearchLocation() {\n\t\t\taxios.get('https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&origins=gazetteer&searchText='+ this.q).then((result) => {\n\t\t\t\tthis.results = result.data.results\n\t\t\t\tthis.showResults = true\n\t\t\t})\n\t\t},\n\t\t*/\n\t\tfetchPerimeters(bbox, width, height) {\n\t\t\tlet url = 'https://sdi.cde.unibe.ch/geoserver/ourheritage/wms?service=WMS&version=1.1.0&request=GetMap&layers=ourheritage%3Awelterbe_perimeter&srs=EPSG%3A21781&styles=&format=geojson'\n\t\t\turl += '&bbox='+ bbox\n\t\t\turl += '&width='+ width\n\t\t\turl += '&height='+ height\n\t\t\t\n\t\t\taxios.get(url).then((result) => {\n\t\t\t\tperimeterVs.clear()\n\t\t\t\tperimeterVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\t\tfetchPois() {\n\t\t\taxios.get('poi/list?frontend='+ this.getFrontend()).then((result) => {\n\t\t\t\tpoiVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t\tthis.selectInitialItem('poi', poiVs)\n\t\t\t})\n\t\t},\n\t\tfetchRoutes() {\n\t\t\taxios.get('route/list?type=detail&frontend='+ this.getFrontend()).then((result) => {\n\t\t\t\trouteVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t\tthis.selectInitialItem('route', routeVs)\n\t\t\t})\n\t\t\taxios.get('route/list?type=general&frontend='+ this.getFrontend()).then((result) => {\n\t\t\t\tgeneralRouteVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t\tthis.selectInitialItem('route', generalRouteVs)\n\t\t\t})\n\t\t},\n\t\tgetFrontend() {\n\t\t\tlet container = document.getElementById(\"heritage-map\")\n\t\t\treturn container.getAttribute('frontend')\n\t\t},\n\t\tfetchFeatureInfo(properties) {\n\t\t\tlet obj = this;\n\t\t\tlet path = properties.type +'/'+ properties.id +'?fullDescription=1&lang='+ this.language\n\t\t\taxios.get(path).then((result) => {\n\t\t\t\tobj.$parent.$refs.infoBox.setInfo(result.data)\n\t\t\t})\n\t\t},\n\t\tselectInitialItem(type, vs) {\n\t\t\tif (!this.initialItemSelected && this.initialItem.type == type) {\n\t\t\t\tlet view = this.map.getView()\n\t\t\t\tlet features = vs.getFeatures()\n\t\t\t\t\n\t\t\t\tfor (let i = 0, ii = features.length; i < ii; i++) {\n\t\t\t\t\tlet feature = features[i]\n\t\t\t\t\tlet properties = feature.getProperties()\n\t\t\t\t\t\n\t\t\t\t\tif (properties.id == this.initialItem.id) {\n\t\t\t\t\t\tthis.initialItemSelected = true\n\t\t\t\t\t\tthis.selected = feature\n\t\t\t\t\t\tthis.fetchFeatureInfo(properties)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (type == 'heritage') {\n\t\t\t\t\t\t\tthis.selectedHeritage(feature)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tview.fit(feature.getGeometry(), {padding: [60, 60, 60, 60]})\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (properties.type == 'route') {\n\t\t\t\t\t\t\t\tfeature.set('highlighted', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (properties.type == 'poi') {\n\t\t\t\t\t\t\t\tfeature.set('highlighted', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetInitalItem() {\n\t\t\tlet container = document.getElementById(\"heritage-map\")\n\t\t\tlet attr = container.getAttribute('show')\n\t\t\tif (attr && attr != \"\") {\n\t\t\t\tlet props = attr.split('-')\n\t\t\t\tthis.initialItem.type = props[0]\n\t\t\t\tthis.initialItem.id = props[1]\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\t\n\t\tthis.map = new Map({\n\t\t\ttarget: this.$refs['map'],\n\t\t\tlayers: [\n\t\t\t\tthis.layers.ortho = new TileLayer({\n\t\t\t\t\tid: \"ortho-layer\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.swisstopo.swissimage',\n\t\t\t\t\t\t\t'FORMAT': 'image/jpeg',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverType: 'mapserver',\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.topo = new TileLayer({\n\t\t\t\t\tid: \"topo-layer\",\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.swisstopo.pixelkarte-grau',\n\t\t\t\t\t\t\t'FORMAT': 'image/jpeg',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverType: 'mapserver',\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.perimeter = new VectorLayer({\n\t\t\t\t\tid: \"perimeter-layer\",\n\t\t\t\t\tminZoom: 3,\n\t\t\t\t\topacity: this.defaultOpacity.perimeter,\n\t\t\t\t\tsource: perimeterVs,\n\t\t\t\t\tstyle: function() {\n\t\t\t\t\t\treturn new Style({\n\t\t\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\t\t\tcolor: colors.primaryOpacity,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tthis.layers.hiking = new TileLayer({\n\t\t\t\t\tid: \"hiking-layer\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tminZoom: 5,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.swisstopo.swisstlm3d-wanderwege',\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.route = new VectorLayer({\n\t\t\t\t\tid: \"route-layer\",\n\t\t\t\t\tminZoom: 3,\n\t\t\t\t\tsource: routeVs,\n\t\t\t\t\tstyle: function(feature) {\n\t\t\t\t\t\treturn routeStyle(feature)\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tthis.layers.generalRoute = new VectorLayer({\n\t\t\t\t\tid: \"general-route-layer\",\n\t\t\t\t\tsource: generalRouteVs,\n\t\t\t\t\tstyle: function(feature) {\n\t\t\t\t\t\treturn routeStyle(feature)\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tthis.layers.transport = new TileLayer({\n\t\t\t\t\tid: \"transport-layer\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tminZoom: 8,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.bav.haltestellen-oev'\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.poi = new VectorLayer({\n\t\t\t\t\tid: \"poi-layer\",\n\t\t\t\t\tminZoom: 3,\n\t\t\t\t\tsource: poiClusterSource,\n\t\t\t\t\tstyle: function (feature) {\n\t\t\t\t\t\tlet features = feature.get('features')\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (features[0].get('highlighted')) {\n\t\t\t\t\t\t\tlet style = styleCache['poiSelected'];\n\t\t\t\t\t\t\tlet properties = features[0].getProperties()\n\t\t\t\t\t\t\tif (!style) {\n\t\t\t\t\t\t\t\tstyle = new Style({\n\t\t\t\t\t\t\t\t\timage: new Icon({\n\t\t\t\t\t\t\t\t\t\tanchor: [20, 58],\n\t\t\t\t\t\t\t\t\t\tanchorXUnits: 'pixels',\n\t\t\t\t\t\t\t\t\t\tanchorYUnits: 'pixels',\n\t\t\t\t\t\t\t\t\t\tsrc: properties.marker\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tstyleCache['poiSelected'] = style;\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn style\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tlet size = features.length\n\t\t\t\t\t\t\tlet style = styleCache[size];\n\t\t\t\t\t\t\tif (!style) {\n\t\t\t\t\t\t\t\tlet radius = size + 18;\n\t\t\t\t\t\t\t\tif (size > 18) {\n\t\t\t\t\t\t\t\t\tradius = (size * 0.2) + 11;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstyle = new Style({\n\t\t\t\t\t\t\t\t\timage: new Circle({\n\t\t\t\t\t\t\t\t\t\tradius: radius,\n\t\t\t\t\t\t\t\t\t\tstroke: new Stroke({\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t\twidth: 2\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\t\t\t\t\t\tcolor: colors.primary,\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\ttext: new Text({\n\t\t\t\t\t\t\t\t\t\ttext: size.toString(),\n\t\t\t\t\t\t\t\t\t\tfont: radius +'px sans-serif',\n\t\t\t\t\t\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tstyleCache[size] = style;\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn style;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t],\n\t\t\tview: new View({\n\t\t\t\tprojection: projection,\n\t\t\t\tcenter: transform([8.0, 46.53], 'EPSG:4326', 'EPSG:21781'),\n\t\t\t\tzoom: this.zoom,\n\t\t\t\tminZoom: 4.5,\n\t\t\t\tmaxZoom: 12,\n\t\t\t\tenableRotation: false\n\t\t\t}),\n\t\t});\n\t\t\n\t\tthis.map.on('pointermove', this.onPointerMove)\n\t\tthis.map.on('click', this.selectFeature)\n\t\tthis.map.on('moveend', this.onMoveend)\n\t\t\n\t\tthis.setInitalItem()\n\t\tthis.fetchPois()\n\t\tthis.fetchRoutes()\n\t}\n}\n\nfunction routeStyle(feature) {\n\tconsole.log(feature);\n\tif (feature.get('highlighted')) {\n\t\treturn new Style({\n\t\t\tstroke: new Stroke({\n\t\t\t\tcolor: colors.primaryOpacity,\n\t\t\t\twidth: 11\n\t\t\t})\n\t\t})\n\t}\n\telse {\n\t\treturn new Style({\n\t\t\tstroke: new Stroke({\n\t\t\t\tcolor: colors.primaryOpacity,\n\t\t\t\twidth: 8\n\t\t\t})\n\t\t})\n\t}\n}\n\n// We also declare EPSG:21781/EPSG:4326 transform functions. These functions\n// are necessary for the ScaleLine control and when calling ol/proj~transform\n// for setting the view's initial center (see below).\n\naddCoordinateTransforms(\n\t'EPSG:4326',\n\tprojection,\n\tfunction (coordinate) {\n\t\treturn [\n\t\t\tWGStoCHy(coordinate[1], coordinate[0]),\n\t\t\tWGStoCHx(coordinate[1], coordinate[0]),\n\t\t];\n\t},\n\tfunction (coordinate) {\n\t\treturn [\n\t\t\tCHtoWGSlng(coordinate[0], coordinate[1]),\n\t\t\tCHtoWGSlat(coordinate[0], coordinate[1]),\n\t\t];\n\t}\n);\n\n/*\n * Swiss projection transform functions downloaded from\n * https://www.swisstopo.admin.ch/en/knowledge-facts/surveying-geodesy/reference-systems/map-projections.html\n */\n\n// Convert WGS lat/long (� dec) to CH y\nfunction WGStoCHy(lat, lng) {\n  // Converts degrees dec to sex\n  lat = DECtoSEX(lat);\n  lng = DECtoSEX(lng);\n\n  // Converts degrees to seconds (sex)\n  lat = DEGtoSEC(lat);\n  lng = DEGtoSEC(lng);\n\n  // Axillary values (% Bern)\n  const lat_aux = (lat - 169028.66) / 10000;\n  const lng_aux = (lng - 26782.5) / 10000;\n\n  // Process Y\n  const y =\n    600072.37 +\n    211455.93 * lng_aux -\n    10938.51 * lng_aux * lat_aux -\n    0.36 * lng_aux * Math.pow(lat_aux, 2) -\n    44.54 * Math.pow(lng_aux, 3);\n\n  return y;\n}\n\n// Convert WGS lat/long (� dec) to CH x\nfunction WGStoCHx(lat, lng) {\n  // Converts degrees dec to sex\n  lat = DECtoSEX(lat);\n  lng = DECtoSEX(lng);\n\n  // Converts degrees to seconds (sex)\n  lat = DEGtoSEC(lat);\n  lng = DEGtoSEC(lng);\n\n  // Axillary values (% Bern)\n  const lat_aux = (lat - 169028.66) / 10000;\n  const lng_aux = (lng - 26782.5) / 10000;\n\n  // Process X\n  const x =\n    200147.07 +\n    308807.95 * lat_aux +\n    3745.25 * Math.pow(lng_aux, 2) +\n    76.63 * Math.pow(lat_aux, 2) -\n    194.56 * Math.pow(lng_aux, 2) * lat_aux +\n    119.79 * Math.pow(lat_aux, 3);\n\n  return x;\n}\n\n// Convert CH y/x to WGS lat\nfunction CHtoWGSlat(y, x) {\n  // Converts military to civil and to unit = 1000km\n  // Axillary values (% Bern)\n  const y_aux = (y - 600000) / 1000000;\n  const x_aux = (x - 200000) / 1000000;\n\n  // Process lat\n  let lat =\n    16.9023892 +\n    3.238272 * x_aux -\n    0.270978 * Math.pow(y_aux, 2) -\n    0.002528 * Math.pow(x_aux, 2) -\n    0.0447 * Math.pow(y_aux, 2) * x_aux -\n    0.014 * Math.pow(x_aux, 3);\n\n  // Unit 10000\" to 1 \" and converts seconds to degrees (dec)\n  lat = (lat * 100) / 36;\n\n  return lat;\n}\n\n// Convert CH y/x to WGS long\nfunction CHtoWGSlng(y, x) {\n  // Converts military to civil and to unit = 1000km\n  // Axillary values (% Bern)\n  const y_aux = (y - 600000) / 1000000;\n  const x_aux = (x - 200000) / 1000000;\n\n  // Process long\n  let lng =\n    2.6779094 +\n    4.728982 * y_aux +\n    0.791484 * y_aux * x_aux +\n    0.1306 * y_aux * Math.pow(x_aux, 2) -\n    0.0436 * Math.pow(y_aux, 3);\n\n  // Unit 10000\" to 1 \" and converts seconds to degrees (dec)\n  lng = (lng * 100) / 36;\n\n  return lng;\n}\n\n// Convert DEC angle to SEX DMS\nfunction DECtoSEX(angle) {\n  // Extract DMS\n  const deg = parseInt(angle, 10);\n  const min = parseInt((angle - deg) * 60, 10);\n  const sec = ((angle - deg) * 60 - min) * 60;\n\n  // Result in degrees sex (dd.mmss)\n  return deg + min / 100 + sec / 10000;\n}\n\n// Convert Degrees angle to seconds\nfunction DEGtoSEC(angle) {\n  // Extract DMS\n  const deg = parseInt(angle, 10);\n  let min = parseInt((angle - deg) * 100, 10);\n  let sec = ((angle - deg) * 100 - min) * 100;\n\n  // Avoid rounding problems with seconds=0\n  const parts = String(angle).split('.');\n  if (parts.length == 2 && parts[1].length == 2) {\n    min = Number(parts[1]);\n    sec = 0;\n  }\n\n  // Result in degrees sex (dd.mmss)\n  return sec + min * 60 + deg * 3600;\n}\n</script>\n","import { render } from \"./Map.vue?vue&type=template&id=df13b486\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div id=\"map-info-box\" v-bind:class=\"{ active: active }\">\n\t\t<div class=\"backdrop\" @click=\"close\"></div>\n\t\t<div class=\"card fade-in\">\n\t\t\t<div class=\"close\" @click=\"close\" v-bind:title=\"this.translations.close\">\n\t\t\t\t<i class=\"fa fa-times\"></i>\n\t\t\t</div>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-lg-5 header-container\">\n\t\t\t\t\t<div class=\"card-header img-header\">\n\t\t\t\t\t\t<img class=\"card-img-top\" v-bind:src=\"this.info.img.url\" alt=\"this.info.img.alt\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-lg-7\">\n\t\t\t\t\t<div class=\"card-body small\">\n\t\t\t\t\t\t<div class=\"h1 card-title margin-bottom\" v-html=\"this.info.title\"></div>\n\t\t\t\t\t\t<div class=\"card-text\" v-html=\"this.info.description\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport 'vue3-carousel/dist/carousel.css'\n//import { Carousel, Slide, Pagination, Navigation } from 'vue3-carousel'\n\nexport default {\n\tcomponents: {\n\t\t//Carousel,\n\t\t//Slide,\n\t\t//Pagination,\n\t\t//Navigation\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactive: false,\n\t\t\tinfo: {\n\t\t\t\tid: null,\n\t\t\t\ttype: null,\n\t\t\t\tslug: null,\n\t\t\t\tlabel: null,\n\t\t\t\ttitle: null,\n\t\t\t\tdescription: null,\n\t\t\t\timg: {\n\t\t\t\t\turl: null,\n\t\t\t\t\talt: null\n\t\t\t\t},\n\t\t\t\timages: []\n\t\t\t},\n\t\t\ttranslations: {\n\t\t\t\tclose: 'Close',\n\t\t\t\tlearnMore: 'Learn more'\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tsetInfo: function (info) {\n\t\t\tthis.info = info\n\t\t\tthis.open()\n\t\t},\n\t\topen: function () {\n\t\t\tthis.active = true\n\t\t\t\n\t\t},\n\t\tclose: function () {\n\t\t\tthis.active = false\n\t\t},\n\t\tsetTranslations() {\n\t\t\tvar el = document.getElementById('map-translations')\n\t\t\tif (el) {\n\t\t\t\tthis.translations = JSON.parse(el.textContent)\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.setTranslations()\n\t}\n}\n</script>\n","import { render } from \"./InfoBox.vue?vue&type=template&id=94d8c2da\"\nimport script from \"./InfoBox.vue?vue&type=script&lang=js\"\nexport * from \"./InfoBox.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=12107c82\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './scss/custom.scss'\nimport axios from 'axios'\n\naxios.defaults.baseURL = process.env.VUE_APP_API_HOST + '/v1'\n\ncreateApp(App).mount('#heritage-map')\n"],"sourceRoot":""}