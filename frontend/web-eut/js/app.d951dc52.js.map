{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?54b6","webpack:///./src/components/Map.vue","webpack:///./src/components/Map.vue?ac7d","webpack:///./src/components/InfoBox.vue","webpack:///./src/components/InfoBox.vue?56a6","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","_createElementBlock","_createVNode","_component_Map","ref","_component_Header","_component_InfoBox","class","_createElementVNode","src","_hoisted_2","_hoisted_3","_hoisted_4","currentLanguage","methods","setLanguage","lang","alert","__exports__","projection","Projection","code","extent","units","addProjection","styleCache","colors","primary","primaryOpacity","perimeterVs","VectorSource","generalRouteVs","routeVs","poiVs","poiClusterSource","Cluster","distance","minDistance","source","props","map","active","zoom","q","showResults","results","inputName","selected","initialItem","initialItemSelected","layers","defaultOpacity","hideLayer","layer","this","setOpacity","showLayer","selectFeature","e","obj","view","getView","forEachFeatureAtPixel","pixel","feature","deselectFeature","properties","getProperties","features","clusterFeatures","coor","getGeometry","getCoordinates","getZoom","setCenter","setZoom","poiFeature","poiProperties","fetchFeatureInfo","set","type","hitTolerance","$parent","$refs","infoBox","close","onPointerMove","getEventPixel","originalEvent","hit","hasFeatureAtPixel","layerFilter","getTarget","style","cursor","onMoveend","size","getSize","bbox","calculateExtent","fetchPerimeters","newZoom","width","height","url","axios","then","clear","addFeatures","GeoJSON","readFeatures","fetchPois","getFrontend","selectInitialItem","fetchRoutes","container","document","getElementById","getAttribute","path","setInfo","vs","getFeatures","ii","selectedHeritage","fit","padding","setInitalItem","attr","split","mounted","Map","target","ortho","TileLayer","opacity","TileWMS","params","serverType","topo","perimeter","VectorLayer","minZoom","Style","fill","Fill","color","hiking","route","routeStyle","generalRoute","transport","poi","image","Icon","anchor","anchorXUnits","anchorYUnits","marker","radius","Circle","stroke","Stroke","text","Text","toString","font","View","center","transform","maxZoom","enableRotation","on","WGStoCHy","lat","lng","DECtoSEX","DEGtoSEC","lat_aux","lng_aux","y","Math","pow","WGStoCHx","x","CHtoWGSlat","y_aux","x_aux","CHtoWGSlng","angle","deg","parseInt","min","sec","parts","String","Number","addCoordinateTransforms","coordinate","$data","onClick","$options","title","translations","info","img","alt","innerHTML","description","slug","label","learnMore","open","setTranslations","el","JSON","parse","textContent","components","Header","InfoBox","render","defaults","baseURL","process","createApp","App","mount"],"mappings":"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","file":"js/app.d951dc52.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n\t<div id=\"app\">\n\t\t<Map ref=\"map\"/>\n\t\t<Header ref=\"header\"/>\n\t\t<InfoBox ref=\"infoBox\"/>\n\t</div>\n</template>\n\n<script>\nimport Header from './components/Header.vue'\nimport Map from './components/Map.vue'\nimport InfoBox from './components/InfoBox.vue'\n\nexport default {\n\tname: 'map',\n\tcomponents: {\n\t\tHeader,\n\t\tMap,\n\t\tInfoBox\n\t}\n}\n</script>\n","<template>\n\t<div class=\"header\">\n\t\t<img src=\"/img/layout/eut-logo.svg\" class=\"eut-logo\">\n\t\t<img src=\"/img/layout/saja-logo.svg\" class=\"saja-logo\">\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentLanguage: 'de'\n\t\t}\n\t},\n\tmethods: {\n\t\tsetLanguage: function (lang) {\n\t\t\talert(lang)\n\t\t}\n\t}\n}\n</script>\n","import { render } from \"./Header.vue?vue&type=template&id=2e9eb9f0\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div class=\"map-container\">\n\t\t<div ref=\"map\" class=\"map\"></div>\n\t\t<div class=\"credits small\">&copy;swisstopo</div>\n\t\t<div id=\"location-marker\"></div>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport Projection from 'ol/proj/Projection';\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\nimport TileWMS from 'ol/source/TileWMS';\nimport View from 'ol/View';\nimport {addCoordinateTransforms, addProjection, transform} from 'ol/proj';\nimport {Icon, Circle, Text, Style, Stroke, Fill} from 'ol/style';\nimport {Cluster, Vector as VectorSource} from 'ol/source';\nimport GeoJSON from 'ol/format/GeoJSON';\n\nconst projection = new Projection({\n\tcode: 'EPSG:21781',\n\textent: [485869.5728, 76443.1884, 837076.5648, 299941.7864],\n\tunits: 'm',\n})\naddProjection(projection)\n\nconst styleCache = {};\nconst colors = {\n\tprimary: '#968C1B',\n\tprimaryOpacity: 'rgba(150,140,27,0.7)'\n}\n\nconst perimeterVs = new VectorSource()\nconst generalRouteVs = new VectorSource()\nconst routeVs = new VectorSource()\nconst poiVs = new VectorSource()\nconst poiClusterSource = new Cluster({\n\tdistance: 24,\n\tminDistance: 10,\n\tsource: poiVs,\n});\n\nexport default {\n\tprops: {},\n\tdata: () => ({\n\t\tmap: false,\n\t\tactive: 'topo',\n\t\tzoom: 5,\n\t\tq: null,\n\t\tshowResults: false,\n\t\tresults: null,\n\t\tinputName: null,\n\t\tselected: null,\n\t\tinitialItem: {\n\t\t\t'type': null,\n\t\t\t'id': null\n\t\t},\n\t\tinitialItemSelected: false,\n\t\tlayers: {\n\t\t\t'topo': null,\n\t\t\t'ortho': null,\n\t\t\t'hiking': null,\n\t\t\t'transport': null,\n\t\t\t'poi': null,\n\t\t\t'route': null,\n\t\t\t'perimeter': null,\n\t\t},\n\t\tdefaultOpacity: {\n\t\t\t'topo': 1,\n\t\t\t'ortho': 1,\n\t\t\t'hiking': 0.5,\n\t\t\t'transport': 1,\n\t\t\t'poi': 1,\n\t\t\t'route': 1,\n\t\t\t'perimeter': 0.5\n\t\t}\n\t}),\n\tmethods: {\n\t\thideLayer(layer) {\n\t\t\tthis.layers[layer].setOpacity(0)\n\t\t\tif (layer == 'route') {\n\t\t\t\tthis.layers['generalRoute'].setOpacity(0)\n\t\t\t}\n\t\t},\n\t\tshowLayer(layer) {\n\t\t\tthis.layers[layer].setOpacity(this.defaultOpacity[layer])\n\t\t\tif (layer == 'route') {\n\t\t\t\tthis.layers['generalRoute'].setOpacity(this.defaultOpacity[layer])\n\t\t\t}\n\t\t},\n\t\tselectFeature(e) {\n\t\t\tlet obj = this\n\t\t\tlet map = this.map\n\t\t\tlet view = map.getView()\n\t\t\t\n\t\t\tmap.forEachFeatureAtPixel(e.pixel, function(feature) {\n\t\t\t\tobj.deselectFeature()\n\t\t\t\tlet properties = feature.getProperties()\n\t\t\t\t\n\t\t\t\t// if cluster\n\t\t\t\tif (properties.features) {\n\t\t\t\t\tlet clusterFeatures = properties.features\n\t\t\t\t\tif (clusterFeatures.length > 1) {\n\t\t\t\t\t\tlet coor = feature.getGeometry().getCoordinates()\n\t\t\t\t\t\tlet zoom = view.getZoom()\n\t\t\t\t\t\tview.setCenter(coor)\n\t\t\t\t\t\tview.setZoom(zoom+1)\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet poiFeature = clusterFeatures[0]\n\t\t\t\t\t\tlet poiProperties = poiFeature.getProperties()\n\t\t\t\t\t\tobj.selected = poiFeature\n\t\t\t\t\t\tobj.fetchFeatureInfo(poiProperties)\n\t\t\t\t\t\tpoiFeature.set('highlighted', true)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj.selected = feature\n\t\t\t\t\tobj.fetchFeatureInfo(properties)\n\t\t\t\t\t\n\t\t\t\t\tif (properties.type == 'route') {\n\t\t\t\t\t\tfeature.set('highlighted', true)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t}, {hitTolerance: 6})\n\t\t},\n\t\tdeselectFeature() {\n\t\t\tif (this.selected !== null) {\n\t\t\t\tthis.selected.set('highlighted', false)\n\t\t\t\tthis.selected = null;\n\t\t\t\tthis.$parent.$refs.infoBox.close()\n\t\t\t}\n\t\t},\n\t\tonPointerMove(e) {\n\t\t\t// change mouse cursor when over marker\n\t\t\tlet pixel = this.map.getEventPixel(e.originalEvent)\n\t\t\t//let hit = this.map.hasFeatureAtPixel(pixel)\n\t\t\tlet hit = this.map.hasFeatureAtPixel(pixel, {\n\t\t\t\tlayerFilter: function (layer) {\n\t\t\t\t\treturn layer.get('id') !== 'perimeter-layer';\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.map.getTarget().style.cursor = hit ? 'pointer' : ''\n\t\t},\n\t\tonMoveend() {\n\t\t\tlet view = this.map.getView()\n\t\t\tlet size = this.map.getSize();\n\t\t\tlet bbox = view.calculateExtent(size)\n\t\t\tthis.fetchPerimeters(bbox, size[0], size[1])\n\t\t\t\n\t\t\tlet newZoom = view.getZoom()\n\t\t\tif (this.zoom != newZoom) {\n\t\t\t\tthis.zoom = newZoom\n\t\t\t}\n\t\t},\n\t\t/*\n\t\tsearchOnInput() {\n\t\t\tthis.results = null\n\t\t\tthis.showResults = false\n\t\t\tif (this.q.length > 2) {\n\t\t\t\tthis.searchLocation()\n\t\t\t}\n\t\t},\n\t\tsearchLocation() {\n\t\t\taxios.get('https://api3.geo.admin.ch/rest/services/api/SearchServer?type=locations&origins=gazetteer&searchText='+ this.q).then((result) => {\n\t\t\t\tthis.results = result.data.results\n\t\t\t\tthis.showResults = true\n\t\t\t})\n\t\t},\n\t\t*/\n\t\tfetchPerimeters(bbox, width, height) {\n\t\t\tlet url = 'https://sdi.cde.unibe.ch/geoserver/ourheritage/wms?service=WMS&version=1.1.0&request=GetMap&layers=ourheritage%3Awelterbe_perimeter&srs=EPSG%3A21781&styles=&format=geojson'\n\t\t\turl += '&bbox='+ bbox\n\t\t\turl += '&width='+ width\n\t\t\turl += '&height='+ height\n\t\t\t\n\t\t\taxios.get(url).then((result) => {\n\t\t\t\tperimeterVs.clear()\n\t\t\t\tperimeterVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\t\tfetchPois() {\n\t\t\taxios.get('poi/list?frontend='+ this.getFrontend()).then((result) => {\n\t\t\t\tpoiVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t\tthis.selectInitialItem('poi', poiVs)\n\t\t\t})\n\t\t},\n\t\tfetchRoutes() {\n\t\t\taxios.get('route/list?type=detail&frontend='+ this.getFrontend()).then((result) => {\n\t\t\t\trouteVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t\tthis.selectInitialItem('route', routeVs)\n\t\t\t})\n\t\t\taxios.get('route/list?type=general&frontend='+ this.getFrontend()).then((result) => {\n\t\t\t\tgeneralRouteVs.addFeatures(\n\t\t\t\t\tnew GeoJSON().readFeatures(result.data)\n\t\t\t\t)\n\t\t\t\tthis.selectInitialItem('route', generalRouteVs)\n\t\t\t})\n\t\t},\n\t\tgetFrontend() {\n\t\t\tlet container = document.getElementById(\"heritage-map\")\n\t\t\treturn container.getAttribute('frontend')\n\t\t},\n\t\tfetchFeatureInfo(properties) {\n\t\t\tlet obj = this;\n\t\t\tlet path = properties.type +'/'+ properties.id +'?fullDescription=1'\n\t\t\taxios.get(path).then((result) => {\n\t\t\t\tobj.$parent.$refs.infoBox.setInfo(result.data)\n\t\t\t})\n\t\t},\n\t\tselectInitialItem(type, vs) {\n\t\t\tif (!this.initialItemSelected && this.initialItem.type == type) {\n\t\t\t\tlet view = this.map.getView()\n\t\t\t\tlet features = vs.getFeatures()\n\t\t\t\t\n\t\t\t\tfor (let i = 0, ii = features.length; i < ii; i++) {\n\t\t\t\t\tlet feature = features[i]\n\t\t\t\t\tlet properties = feature.getProperties()\n\t\t\t\t\t\n\t\t\t\t\tif (properties.id == this.initialItem.id) {\n\t\t\t\t\t\tthis.initialItemSelected = true\n\t\t\t\t\t\tthis.selected = feature\n\t\t\t\t\t\tthis.fetchFeatureInfo(properties)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (type == 'heritage') {\n\t\t\t\t\t\t\tthis.selectedHeritage(feature)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tview.fit(feature.getGeometry(), {padding: [60, 60, 60, 60]})\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (properties.type == 'route') {\n\t\t\t\t\t\t\t\tfeature.set('highlighted', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (properties.type == 'poi') {\n\t\t\t\t\t\t\t\tfeature.set('highlighted', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetInitalItem() {\n\t\t\tlet container = document.getElementById(\"heritage-map\")\n\t\t\tlet attr = container.getAttribute('show')\n\t\t\tif (attr && attr != \"\") {\n\t\t\t\tlet props = attr.split('-')\n\t\t\t\tthis.initialItem.type = props[0]\n\t\t\t\tthis.initialItem.id = props[1]\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\t\n\t\tthis.map = new Map({\n\t\t\ttarget: this.$refs['map'],\n\t\t\tlayers: [\n\t\t\t\tthis.layers.ortho = new TileLayer({\n\t\t\t\t\tid: \"ortho-layer\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.swisstopo.swissimage',\n\t\t\t\t\t\t\t'FORMAT': 'image/jpeg',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverType: 'mapserver',\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.topo = new TileLayer({\n\t\t\t\t\tid: \"topo-layer\",\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.swisstopo.pixelkarte-grau',\n\t\t\t\t\t\t\t'FORMAT': 'image/jpeg',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverType: 'mapserver',\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.perimeter = new VectorLayer({\n\t\t\t\t\tid: \"perimeter-layer\",\n\t\t\t\t\tminZoom: 3,\n\t\t\t\t\topacity: this.defaultOpacity.perimeter,\n\t\t\t\t\tsource: perimeterVs,\n\t\t\t\t\tstyle: function() {\n\t\t\t\t\t\treturn new Style({\n\t\t\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\t\t\tcolor: colors.primaryOpacity,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tthis.layers.hiking = new TileLayer({\n\t\t\t\t\tid: \"hiking-layer\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tminZoom: 5,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.swisstopo.swisstlm3d-wanderwege',\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.route = new VectorLayer({\n\t\t\t\t\tid: \"route-layer\",\n\t\t\t\t\tminZoom: 3,\n\t\t\t\t\tsource: routeVs,\n\t\t\t\t\tstyle: function(feature) {\n\t\t\t\t\t\treturn routeStyle(feature)\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tthis.layers.generalRoute = new VectorLayer({\n\t\t\t\t\tid: \"general-route-layer\",\n\t\t\t\t\tsource: generalRouteVs,\n\t\t\t\t\tstyle: function(feature) {\n\t\t\t\t\t\treturn routeStyle(feature)\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tthis.layers.transport = new TileLayer({\n\t\t\t\t\tid: \"transport-layer\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tminZoom: 8,\n\t\t\t\t\tsource: new TileWMS({\n\t\t\t\t\t\turl: 'https://wms.geo.admin.ch/',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'LAYERS': 'ch.bav.haltestellen-oev'\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\tthis.layers.poi = new VectorLayer({\n\t\t\t\t\tid: \"poi-layer\",\n\t\t\t\t\tminZoom: 3,\n\t\t\t\t\tsource: poiClusterSource,\n\t\t\t\t\tstyle: function (feature) {\n\t\t\t\t\t\tlet features = feature.get('features')\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (features[0].get('highlighted')) {\n\t\t\t\t\t\t\tlet style = styleCache['poiSelected'];\n\t\t\t\t\t\t\tlet properties = features[0].getProperties()\n\t\t\t\t\t\t\tif (!style) {\n\t\t\t\t\t\t\t\tstyle = new Style({\n\t\t\t\t\t\t\t\t\timage: new Icon({\n\t\t\t\t\t\t\t\t\t\tanchor: [20, 58],\n\t\t\t\t\t\t\t\t\t\tanchorXUnits: 'pixels',\n\t\t\t\t\t\t\t\t\t\tanchorYUnits: 'pixels',\n\t\t\t\t\t\t\t\t\t\tsrc: properties.marker\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tstyleCache['poiSelected'] = style;\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn style\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tlet size = features.length\n\t\t\t\t\t\t\tlet style = styleCache[size];\n\t\t\t\t\t\t\tif (!style) {\n\t\t\t\t\t\t\t\tlet radius = size + 11;\n\t\t\t\t\t\t\t\tif (size > 20) {\n\t\t\t\t\t\t\t\t\tradius = (size * 0.2) + 11;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstyle = new Style({\n\t\t\t\t\t\t\t\t\timage: new Circle({\n\t\t\t\t\t\t\t\t\t\tradius: radius,\n\t\t\t\t\t\t\t\t\t\tstroke: new Stroke({\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t\twidth: 2\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\t\t\t\t\t\tcolor: colors.primary,\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\ttext: new Text({\n\t\t\t\t\t\t\t\t\t\ttext: size.toString(),\n\t\t\t\t\t\t\t\t\t\tfont: radius +'px sans-serif',\n\t\t\t\t\t\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tstyleCache[size] = style;\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn style;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t],\n\t\t\tview: new View({\n\t\t\t\tprojection: projection,\n\t\t\t\tcenter: transform([8.0, 46.49], 'EPSG:4326', 'EPSG:21781'),\n\t\t\t\tzoom: this.zoom,\n\t\t\t\tminZoom: 5,\n\t\t\t\tmaxZoom: 12,\n\t\t\t\tenableRotation: false\n\t\t\t}),\n\t\t});\n\t\t\n\t\tthis.map.on('pointermove', this.onPointerMove)\n\t\tthis.map.on('click', this.selectFeature)\n\t\tthis.map.on('moveend', this.onMoveend)\n\t\t\n\t\tthis.setInitalItem()\n\t\tthis.fetchPois()\n\t\tthis.fetchRoutes()\n\t}\n}\n\nfunction routeStyle(feature) {\n\tif (feature.get('highlighted')) {\n\t\treturn new Style({\n\t\t\tstroke: new Stroke({\n\t\t\t\tcolor: colors.primaryOpacity,\n\t\t\t\twidth: 11\n\t\t\t})\n\t\t})\n\t}\n\telse {\n\t\treturn new Style({\n\t\t\tstroke: new Stroke({\n\t\t\t\tcolor: colors.primaryOpacity,\n\t\t\t\twidth: 8\n\t\t\t})\n\t\t})\n\t}\n}\n\n// We also declare EPSG:21781/EPSG:4326 transform functions. These functions\n// are necessary for the ScaleLine control and when calling ol/proj~transform\n// for setting the view's initial center (see below).\n\naddCoordinateTransforms(\n\t'EPSG:4326',\n\tprojection,\n\tfunction (coordinate) {\n\t\treturn [\n\t\t\tWGStoCHy(coordinate[1], coordinate[0]),\n\t\t\tWGStoCHx(coordinate[1], coordinate[0]),\n\t\t];\n\t},\n\tfunction (coordinate) {\n\t\treturn [\n\t\t\tCHtoWGSlng(coordinate[0], coordinate[1]),\n\t\t\tCHtoWGSlat(coordinate[0], coordinate[1]),\n\t\t];\n\t}\n);\n\n/*\n * Swiss projection transform functions downloaded from\n * https://www.swisstopo.admin.ch/en/knowledge-facts/surveying-geodesy/reference-systems/map-projections.html\n */\n\n// Convert WGS lat/long (� dec) to CH y\nfunction WGStoCHy(lat, lng) {\n  // Converts degrees dec to sex\n  lat = DECtoSEX(lat);\n  lng = DECtoSEX(lng);\n\n  // Converts degrees to seconds (sex)\n  lat = DEGtoSEC(lat);\n  lng = DEGtoSEC(lng);\n\n  // Axillary values (% Bern)\n  const lat_aux = (lat - 169028.66) / 10000;\n  const lng_aux = (lng - 26782.5) / 10000;\n\n  // Process Y\n  const y =\n    600072.37 +\n    211455.93 * lng_aux -\n    10938.51 * lng_aux * lat_aux -\n    0.36 * lng_aux * Math.pow(lat_aux, 2) -\n    44.54 * Math.pow(lng_aux, 3);\n\n  return y;\n}\n\n// Convert WGS lat/long (� dec) to CH x\nfunction WGStoCHx(lat, lng) {\n  // Converts degrees dec to sex\n  lat = DECtoSEX(lat);\n  lng = DECtoSEX(lng);\n\n  // Converts degrees to seconds (sex)\n  lat = DEGtoSEC(lat);\n  lng = DEGtoSEC(lng);\n\n  // Axillary values (% Bern)\n  const lat_aux = (lat - 169028.66) / 10000;\n  const lng_aux = (lng - 26782.5) / 10000;\n\n  // Process X\n  const x =\n    200147.07 +\n    308807.95 * lat_aux +\n    3745.25 * Math.pow(lng_aux, 2) +\n    76.63 * Math.pow(lat_aux, 2) -\n    194.56 * Math.pow(lng_aux, 2) * lat_aux +\n    119.79 * Math.pow(lat_aux, 3);\n\n  return x;\n}\n\n// Convert CH y/x to WGS lat\nfunction CHtoWGSlat(y, x) {\n  // Converts military to civil and to unit = 1000km\n  // Axillary values (% Bern)\n  const y_aux = (y - 600000) / 1000000;\n  const x_aux = (x - 200000) / 1000000;\n\n  // Process lat\n  let lat =\n    16.9023892 +\n    3.238272 * x_aux -\n    0.270978 * Math.pow(y_aux, 2) -\n    0.002528 * Math.pow(x_aux, 2) -\n    0.0447 * Math.pow(y_aux, 2) * x_aux -\n    0.014 * Math.pow(x_aux, 3);\n\n  // Unit 10000\" to 1 \" and converts seconds to degrees (dec)\n  lat = (lat * 100) / 36;\n\n  return lat;\n}\n\n// Convert CH y/x to WGS long\nfunction CHtoWGSlng(y, x) {\n  // Converts military to civil and to unit = 1000km\n  // Axillary values (% Bern)\n  const y_aux = (y - 600000) / 1000000;\n  const x_aux = (x - 200000) / 1000000;\n\n  // Process long\n  let lng =\n    2.6779094 +\n    4.728982 * y_aux +\n    0.791484 * y_aux * x_aux +\n    0.1306 * y_aux * Math.pow(x_aux, 2) -\n    0.0436 * Math.pow(y_aux, 3);\n\n  // Unit 10000\" to 1 \" and converts seconds to degrees (dec)\n  lng = (lng * 100) / 36;\n\n  return lng;\n}\n\n// Convert DEC angle to SEX DMS\nfunction DECtoSEX(angle) {\n  // Extract DMS\n  const deg = parseInt(angle, 10);\n  const min = parseInt((angle - deg) * 60, 10);\n  const sec = ((angle - deg) * 60 - min) * 60;\n\n  // Result in degrees sex (dd.mmss)\n  return deg + min / 100 + sec / 10000;\n}\n\n// Convert Degrees angle to seconds\nfunction DEGtoSEC(angle) {\n  // Extract DMS\n  const deg = parseInt(angle, 10);\n  let min = parseInt((angle - deg) * 100, 10);\n  let sec = ((angle - deg) * 100 - min) * 100;\n\n  // Avoid rounding problems with seconds=0\n  const parts = String(angle).split('.');\n  if (parts.length == 2 && parts[1].length == 2) {\n    min = Number(parts[1]);\n    sec = 0;\n  }\n\n  // Result in degrees sex (dd.mmss)\n  return sec + min * 60 + deg * 3600;\n}\n</script>\n","import { render } from \"./Map.vue?vue&type=template&id=143f2ef6\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div id=\"map-info-box\" v-bind:class=\"{ active: active }\">\n\t\t<div class=\"backdrop\" @click=\"close\"></div>\n\t\t<div class=\"card fade-in\">\n\t\t\t<div class=\"close\" @click=\"close\" v-bind:title=\"this.translations.close\">\n\t\t\t\t<i class=\"fa fa-times\"></i>\n\t\t\t</div>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-lg-5 header-container\">\n\t\t\t\t\t<div class=\"card-header img-header\">\n\t\t\t\t\t\t<img class=\"card-img-top\" v-bind:src=\"this.info.img.url\" alt=\"this.info.img.alt\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-lg-7\">\n\t\t\t\t\t<div class=\"card-body small\">\n\t\t\t\t\t\t<div class=\"h1 card-title margin-bottom\" v-html=\"this.info.title\"></div>\n\t\t\t\t\t\t<div class=\"card-text\" v-html=\"this.info.description\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tactive: false,\n\t\t\tinfo: {\n\t\t\t\tid: null,\n\t\t\t\ttype: null,\n\t\t\t\tslug: null,\n\t\t\t\tlabel: null,\n\t\t\t\ttitle: null,\n\t\t\t\tdescription: null,\n\t\t\t\timg: {\n\t\t\t\t\turl: null,\n\t\t\t\t\talt: null\n\t\t\t\t}\n\t\t\t},\n\t\t\ttranslations: {\n\t\t\t\tclose: 'Close',\n\t\t\t\tlearnMore: 'Learn more'\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tsetInfo: function (info) {\n\t\t\tthis.info = info\n\t\t\tthis.open()\n\t\t},\n\t\topen: function () {\n\t\t\tthis.active = true\n\t\t\t\n\t\t},\n\t\tclose: function () {\n\t\t\tthis.active = false\n\t\t},\n\t\tsetTranslations() {\n\t\t\tvar el = document.getElementById('map-translations')\n\t\t\tif (el) {\n\t\t\t\tthis.translations = JSON.parse(el.textContent)\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.setTranslations()\n\t}\n}\n</script>\n","import { render } from \"./InfoBox.vue?vue&type=template&id=6cdd0454\"\nimport script from \"./InfoBox.vue?vue&type=script&lang=js\"\nexport * from \"./InfoBox.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=12107c82\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dominik/Websites/eiger-ultra-trail.gui/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './scss/custom.scss'\nimport axios from 'axios'\n\naxios.defaults.baseURL = process.env.VUE_APP_API_HOST + '/v1'\n\ncreateApp(App).mount('#heritage-map')\n"],"sourceRoot":""}